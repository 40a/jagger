<!-- HTML header for doxygen 1.8.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Jagger: Making decision based on limits for measured parameters</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Jagger
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<link href="tab-panel.css" rel="stylesheet" type="text/css">
  <script language="type="text/javascript"JavaScript" type="text/javascript" src="tab-panel.js">
  </script></head>
</head>
<body onload="bodyOnLoad()" onresize="raisePanel(currentMenuIndex)">
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Making decision based on limits for measured parameters </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Section describes approach how to automatically make decision about results of performance test <br/>
</p>
<p><br/>
 <em> <font color="#FF0000">BETA: </font></em> <br/>
 This page describes new functionality in beta state. Functionality is introduced in ver 1.2.5 and is feature complete. <br/>
 We keep our right to introduce incompatible changes to this functionality <br/>
 <br/>
</p>
<h1><a class="anchor" id="section_dm_intro"></a>
Scope</h1>
<p><br/>
 This section describes how to compare your results with predefined reference values or baseline session values <br/>
 and decide whether performance of your system meet acceptance criteria or not. As result of comparison you <br/>
 can make decision and mark this test session with status flag (OK, WARNING, FATAL, ERROR). Session status will be visible <br/>
 to Jagger Jenkins plugin. In WebUI and PDF report summary values will be highlighted according to results of comparison <br/>
 <br/>
 </p>
<div class="image">
<img src="webUI_metrics_highlighting.png" alt="webUI_metrics_highlighting.png"/>
<div class="caption">
Example of result highlighting in WebUI after comparison with limits</div></div>
<p><br/>
</p>
<h1><a class="anchor" id="section_dm_overview"></a>
Overview</h1>
<p><br/>
 Steps to go: <br/>
 </p>
<ul>
<li><a class="el" href="DecisionMakerBasedOnLimits.html#section_dm_setup_properties">Setup properties</a> </li>
<li><a class="el" href="DecisionMakerBasedOnLimits.html#section_dm_describe_limits">Describe limits for measured parameters</a> </li>
<li><a class="el" href="DecisionMakerBasedOnLimits.html#section_dm_attach_limits">Attach limits to particular test(s)</a> </li>
<li><a class="el" href="DecisionMakerBasedOnLimits.html#section_dm_display">View results in WebUI and PDF report</a></li>
</ul>
<p>Code presented in detailed description below is available in Jagger <em>archetype-examples</em> <br/>
 <br/>
</p>
<h1><a class="anchor" id="section_dm_setup_properties"></a>
Setup properties</h1>
<p><br/>
 To provide comparison of your results to baseline values it is necessary to select baseline session Id <br/>
 It is also recommended to disable deprecated methods of decision making. <br/>
 Set following properties in you <em>environment.properties</em> file or via system properties: <br/>
  <div class="fragment"><div class="line"><span class="preprocessor"># begin: following section is used for docu generation - Decision making by limits main</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor"># # # Baseline session Id # # #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Baseline session ID for session comparison.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># By default this value is set to &#39;#IDENTITY&#39; =&gt; session will be compared with itself (for testing purposes). Comparison will always pass</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># If you would like to compare with some previous run, set this property equal to baseline session Id (f.e. 115)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Comparison will only work if test data is stored in DB</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">chassis.engine.e1.reporting.session.comparison.baseline.session.id=#IDENTITY</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># # # Use only decision making based on limits # # #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Set true if you want to use only limits based decision making</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># When this property is true following deprecated methods are disabled and can&#39;t influence decision for session:</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># - comparison of all standard metrics to single threshold for all tests</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># - evaluation of success rate during report construction</span></div>
<div class="line"><span class="preprocessor"></span>chassis.decision.maker.with.limits.is.only.decision.maker=<span class="keyword">true</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># end: following section is used for docu generation - Decision making by limits main</span></div>
</div><!-- fragment --> <br/>
 <br/>
 <b>Optional:</b> additional setting to define behavior in case of errors: <br/>
  <div class="fragment"><div class="line"><span class="preprocessor"># begin: following section is used for docu generation - Decision making by limits aux</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor"># # # Decision when no matching metric for limit is found # # #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Valid when you are using decision making with limits</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Describes: What decision should be taken when limit is specified, but no metric in the test matches metricName of this Limit</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Default: OK - because this is not critical (you can specify limits in advance - it doen&#39;t influence quality of results)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Allowed values (Decision enum): OK, WARNING, ERROR, FATAL</span></div>
<div class="line"><span class="preprocessor"></span>chassis.decision.maker.with.limits.decisionWhenNoMetricForLimit=OK</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># # # Decision when no baseline value is found for metric # # #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Valid when you are using decision making with limits</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Describes: What decision should be taken when baseline value can&#39;t be fetched for some metric (f.e. test or metric doesn&#39;t exist in baseline session)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Default: FATAL - because we can not compare results to baseline =&gt; we can not take decision</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Allowed values (Decision enum): OK, WARNING, ERROR, FATAL</span></div>
<div class="line"><span class="preprocessor"></span>chassis.decision.maker.with.limits.decisionWhenNoBaselineForMetric=FATAL</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># # # Decision when several limits match single metric # # #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Valid when you are using decision making with limits</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Describes: What decision should be taken when several limits match same metric (f.e. &#39;mon_cpu&#39; &amp; &#39;mon_cpu_user&#39; will match &#39;mon_cpu_user|agent_007 [127.0.1.1]|-avg&#39;)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Default: FATAL - because in this case we will have several decisions (equal to number of matching limits) =&gt; we can not decide what decision should be saved for this metric</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Allowed values (Decision enum): OK, WARNING, ERROR, FATAL</span></div>
<div class="line"><span class="preprocessor"></span>chassis.decision.maker.with.limits.decisionWhenSeveralLimitsMatchSingleMetric=FATAL</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># end: following section is used for docu generation - Decision making by limits aux</span></div>
</div><!-- fragment --> <br/>
 Back to <a class="el" href="DecisionMakerBasedOnLimits.html#section_dm_overview">Overview</a> <br/>
 <br/>
</p>
<h1><a class="anchor" id="section_dm_describe_limits"></a>
Describe limits for measured parameters</h1>
<p><br/>
 </p>
<dl class="section user"><dt>What metrics can be compared to limits</dt><dd>You can apply limits to all measured parameters (aka metrics): <ul>
<li>standard metrics (throughput, latency, percentiles) <br/>
 </li>
<li>monitoring metrics (resource utilization measured by Jagger agents) <br/>
 </li>
<li>custom metrics, validators <br/>
</li>
</ul>
Summary values of these parameters will be compared to limits. <br/>
 <br/>
 </dd></dl>
<dl class="section user"><dt>How to describe limits</dt><dd>You can describe limits in any configuration XML file. Best practice - use separate file for this (f.e. <em>limits.conf.xml</em>) <br/>
 On example below you can see one set of limits. There can be as many sets of limits as you need. <br/>
 Example of limits description: <br/>
  <div class="fragment"><div class="line">    &lt;!-- begin: following section is used <span class="keywordflow">for</span> docu generation - description of limits <span class="keywordflow">for</span> metrics --&gt;</div>
<div class="line">    &lt;limits <span class="keywordtype">id</span>=<span class="stringliteral">&quot;myLimits&quot;</span>&gt;</div>
<div class="line">        &lt;!-- S T A N D A R D    M E T R I C S --&gt;</div>
<div class="line">        &lt;!-- Compare throughput to value from baseline session --&gt;</div>
<div class="line">        &lt;!-- Baseline session Id is set in <span class="keyword">property</span> file --&gt;</div>
<div class="line">        &lt;!-- We expect that throughput will not decrease below 50% of baseline value --&gt;</div>
<div class="line">        &lt;limit xsi:type=<span class="stringliteral">&quot;limit-vs-baseline&quot;</span> metricName=<span class="stringliteral">&quot;throughput&quot;</span>                               LET=<span class="stringliteral">&quot;0.5&quot;</span>  LWT=<span class="stringliteral">&quot;0.6&quot;</span> UWT=<span class="stringliteral">&quot;10.0&quot;</span> UET=<span class="stringliteral">&quot;100.0&quot;</span>/&gt;</div>
<div class="line"></div>
<div class="line">        &lt;!-- M O N I T O R I N G    M E T R I C S --&gt;</div>
<div class="line">        &lt;!-- By <span class="keywordflow">default</span> summary <span class="keywordflow">for</span> monitoring metrics is not calculated. Do not forget to enable <span class="keyword">this</span> calculation in <span class="keyword">property</span> file. --&gt;</div>
<div class="line">        &lt;!-- See necessary setup in the bottom of environment.properties file --&gt;</div>
<div class="line"></div>
<div class="line">        &lt;!-- Compare cpu load average (CLA) and cpu user usage to reference values --&gt;</div>
<div class="line">        &lt;!-- We expect that user will not use more that 50% of CPU time --&gt;</div>
<div class="line">        &lt;!-- We expect that CLA will not exceed 4 (this example was developed on system with 4 CPU cores) --&gt;</div>
<div class="line">        &lt;limit xsi:type=&quot;limit-vs-value&quot;    metricName=&quot;mon_cpu_user&quot;              refValue=&quot;50&quot;  LET=&quot;0.0&quot; LWT=&quot;0.01&quot; UWT=&quot;1.0&quot; UET=&quot;1.1&quot;/&gt;</div>
<div class="line">        &lt;limit xsi:type=&quot;limit-vs-value&quot;    metricName=&quot;mon_cpula_&quot;                refValue=&quot;2.0&quot; LET=&quot;0.0&quot; LWT=&quot;0.01&quot; UWT=&quot;1.9&quot; UET=&quot;2.0&quot;/&gt;</div>
<div class="line"></div>
<div class="line">        &lt;!-- Compare garbage collection to reference values. We expect that no garbage collection will occur --&gt;</div>
<div class="line">        &lt;limit xsi:type=&quot;limit-vs-value&quot;    metricName=&quot;mon_gc_minor_unit&quot;         refValue=&quot;0.1&quot;  LET=&quot;-1.0&quot; LWT=&quot;-0.9&quot; UWT=&quot;0.9&quot; UET=&quot;1.0&quot;/&gt;</div>
<div class="line">        &lt;limit xsi:type=&quot;limit-vs-value&quot;    metricName=&quot;mon_gc_minor_time&quot;         refValue=&quot;0.1&quot;  LET=&quot;-1.0&quot; LWT=&quot;-0.9&quot; UWT=&quot;0.9&quot; UET=&quot;1.0&quot;/&gt;</div>
<div class="line">        &lt;limit xsi:type=&quot;limit-vs-value&quot;    metricName=&quot;mon_gc_major_unit&quot;         refValue=&quot;0.1&quot;  LET=&quot;-1.0&quot; LWT=&quot;-0.9&quot; UWT=&quot;0.9&quot; UET=&quot;1.0&quot;/&gt;</div>
<div class="line">        &lt;limit xsi:type=&quot;limit-vs-value&quot;    metricName=&quot;mon_gc_major_time&quot;         refValue=&quot;0.1&quot;  LET=&quot;-1.0&quot; LWT=&quot;-0.9&quot; UWT=&quot;0.9&quot; UET=&quot;1.0&quot;/&gt;</div>
<div class="line"></div>
<div class="line">        &lt;!-- C U S T O M    M E T R I C S --&gt;</div>
<div class="line">        &lt;!-- Compare custom success rate metric to reference value --&gt;</div>
<div class="line">        &lt;!-- We expect success rate 1.0 --&gt;</div>
<div class="line">        &lt;limit xsi:type=&quot;limit-vs-value&quot;    metricName=&quot;exampleSuccessRate-aggSR&quot;    refValue=&quot;1.0&quot;  LET=&quot;0.9999&quot; LWT=&quot;0.99999&quot; UWT=&quot;1.00001&quot; UET=&quot;1.0001&quot;/&gt;</div>
<div class="line">        &lt;limit xsi:type=&quot;limit-vs-value&quot;    metricName=&quot;exampleSuccessRate-aggFails&quot; refValue=&quot;0.1&quot;  LET=&quot;-1.0&quot;   LWT=&quot;-0.9&quot;    UWT=&quot;0.9&quot;      UET=&quot;1.0&quot;/&gt;</div>
<div class="line">    &lt;/limits&gt;</div>
<div class="line">    &lt;!-- end: following section is used for docu generation - description of limits for metrics --&gt;</div>
</div><!-- fragment --> <br/>
 There can be following types of limits. See description of XML attributes under type name links or in the description of <a class="el" href="classcom_1_1griddynamics_1_1jagger_1_1engine_1_1e1_1_1collector_1_1limits_1_1Limit.html">Limit</a> class. <br/>
 <a href="./xsd/http___www.griddynamics.com_schema_jagger/complexType/limit-vs-value.html">limit-vs-value</a> - metric will be compared with defined value <br/>
 <a href="./xsd/http___www.griddynamics.com_schema_jagger/complexType/limit-vs-baseline.html">limit-vs-baseline</a> - metric will be compared with value from baseline session <br/>
 <br/>
 </dd></dl>
<dl class="section user"><dt>Where to get ids of standard and monitoring metrics</dt><dd>To define limit for metric you need to know id of metrics. <br/>
 <ul>
<li>standard metrics ids. Use values from list below: <br/>
  <div class="fragment"><div class="line">    <span class="comment">//begin: following section is used for docu generation - standard metrics ids</span></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String THROUGHPUT_ID = <span class="stringliteral">&quot;throughput&quot;</span>;</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String LATENCY_ID = <span class="stringliteral">&quot;avgLatency&quot;</span>;</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String LATENCY_STD_DEV_ID = <span class="stringliteral">&quot;stdDevLatency&quot;</span>;</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String FAIL_COUNT_ID = <span class="stringliteral">&quot;failureCount&quot;</span>;</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String SUCCESS_RATE_ID = <span class="stringliteral">&quot;successRate&quot;</span>;</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String DURATION_ID = <span class="stringliteral">&quot;duration&quot;</span>;</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String ITERATION_SAMPLES_ID = <span class="stringliteral">&quot;samples&quot;</span>;</div>
<div class="line">    <span class="comment">//end: following section is used for docu generation - standard metrics ids</span></div>
</div><!-- fragment --> </li>
<li>monitoring metrics ids: <br/>
 <a class="el" href="MonitoringMetricsSetup.html">Monitoring metrics settings</a> </li>
<li>custom metrics ids - you should know them. They are custom <br/>
</li>
</ul>
<br/>
 </dd></dl>
<dl class="section user"><dt>How limits and measured values are matched</dt><dd>How limits will match to metrics: <br/>
 <ul>
<li>First exact match will be checked. Metric id from database will be compared to <em>metricName</em> attribute of limit <br/>
 </li>
<li>If first will not match, metric id from database will be compared to regular expression <b>"^metricName.*"</b> <br/>
</li>
</ul>
This means limit with <em>metricName</em> 'mon_cpula_' will match metrics with ids: <br/>
 <em> mon_cpula_1|jagger_connect_57 [127.0.1.1]|-avg </em> <br/>
 <em> mon_cpula_5|jagger_connect_57 [127.0.1.1]|-avg </em> <br/>
 <em> mon_cpula_15|jagger_connect_57 [127.0.1.1]|-avg </em> <br/>
 <br/>
 </dd></dl>
<dl class="section user"><dt>How to enable summary calculation for monitoring metrics</dt><dd><b>NOTE:</b> Pay attention that summary is not calculated for monitoring parameters by default. You need to enable this calculation <br/>
 in property file. Like on example below: <br/>
  <div class="fragment"><div class="line"><span class="preprocessor"># begin: following section is used for docu generation - How to enable summary calculation for monitoring metrics</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor"># Uncomment following lines to enable summary value calculation for some of monitoring metrics</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#chassis.monitoring.mon_cpula_1.showSummary=true</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#chassis.monitoring.mon_cpula_5.showSummary=true</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#chassis.monitoring.mon_cpula_15.showSummary=true</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#chassis.monitoring.mon_cpu_user.showSummary=true</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#chassis.monitoring.mon_gc_minor_unit.showSummary=true</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#chassis.monitoring.mon_gc_minor_time.showSummary=true</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#chassis.monitoring.mon_gc_major_unit.showSummary=true</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#chassis.monitoring.mon_gc_major_time.showSummary=true</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor"># end: following section is used for docu generation - How to enable summary calculation for monitoring metrics</span></div>
</div><!-- fragment --></dd></dl>
<p><br/>
 Back to <a class="el" href="DecisionMakerBasedOnLimits.html#section_dm_overview">Overview</a> <br/>
 <br/>
</p>
<h1><a class="anchor" id="section_dm_attach_limits"></a>
Attach limits to particular test(s)</h1>
<p><br/>
 </p>
<dl class="section user"><dt>How to attach limits to test</dt><dd>After describing limits you can attach them to some test or tests. That means your limits will be used <br/>
 to verify results of some test(s) and make decision. Single set of limits can be attached to several tests. <br/>
 It is convenient when same acceptance criteria are used for different tests. <br/>
 <em> Example. Attaching set of limits to the test: </em> <br/>
  <div class="fragment"><div class="line">            &lt;!-- begin: following section is used <span class="keywordflow">for</span> docu generation - attaching limits to test --&gt;</div>
<div class="line"></div>
<div class="line">            &lt;test-group <span class="keywordtype">id</span>=<span class="stringliteral">&quot;tg_groovyInvokerGroup&quot;</span>&gt;</div>
<div class="line">                &lt;test <span class="keywordtype">id</span>=<span class="stringliteral">&quot;t_invokerTest&quot;</span> testDescription=<span class="stringliteral">&quot;td_groovyGooglePageTest&quot;</span>&gt;</div>
<div class="line">                    &lt;load xsi:type=<span class="stringliteral">&quot;load-threads&quot;</span> count=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">                    &lt;termination xsi:type=<span class="stringliteral">&quot;termination-iterations&quot;</span> iterations=<span class="stringliteral">&quot;100&quot;</span> maxDuration=<span class="stringliteral">&quot;2m&quot;</span>/&gt;</div>
<div class="line"></div>
<div class="line">                    &lt;!-- Limit set <span class="stringliteral">&#39;myLimits&#39;</span> will be used to verify results of <span class="keyword">this</span> test and make decision --&gt;</div>
<div class="line">                    &lt;limits xsi:type=<span class="stringliteral">&quot;limits-ref&quot;</span> ref=<span class="stringliteral">&quot;myLimits&quot;</span>/&gt;</div>
<div class="line">                &lt;/test&gt;</div>
<div class="line">            &lt;/test-group&gt;</div>
<div class="line"></div>
<div class="line">            &lt;!-- end: following section is used <span class="keywordflow">for</span> docu generation - attaching limits to test --&gt;</div>
</div><!-- fragment --> <br/>
 Another option is to define limits directly in the test, like on example below. <br/>
 It is useful when you are not planing to reuse limit set. <br/>
 <em> Example. Define set of limits in the test: </em> <br/>
  <div class="fragment"><div class="line">                &lt;!-- begin: following section is used <span class="keywordflow">for</span> docu generation - description of limits <span class="keywordflow">for</span> metrics directly in test --&gt;</div>
<div class="line">               &lt;test <span class="keywordtype">id</span>=<span class="stringliteral">&quot;t_googlePage&quot;</span> testDescription=<span class="stringliteral">&quot;td_googlePageTest&quot;</span>&gt;</div>
<div class="line">                   &lt;load xsi:type=<span class="stringliteral">&quot;load-threads&quot;</span> count=<span class="stringliteral">&quot;1&quot;</span>/&gt;</div>
<div class="line">                   &lt;termination xsi:type=<span class="stringliteral">&quot;termination-background&quot;</span> /&gt;</div>
<div class="line"></div>
<div class="line">                   &lt;!-- Limit set below will be used to verify results of <span class="keyword">this</span> test and make decision --&gt;</div>
<div class="line">                   &lt;limits xsi:type=<span class="stringliteral">&quot;limits-group&quot;</span>&gt;</div>
<div class="line">                       &lt;limit xsi:type=<span class="stringliteral">&quot;limit-vs-value&quot;</span>    metricName=<span class="stringliteral">&quot;exampleSuccessRate-aggSR&quot;</span>    refValue=<span class="stringliteral">&quot;1.0&quot;</span>  LET=<span class="stringliteral">&quot;0.99&quot;</span> LWT=<span class="stringliteral">&quot;0.999&quot;</span> UWT=<span class="stringliteral">&quot;1.001&quot;</span> UET=<span class="stringliteral">&quot;1.01&quot;</span>/&gt;</div>
<div class="line">                       &lt;limit xsi:type=<span class="stringliteral">&quot;limit-vs-value&quot;</span>    metricName=<span class="stringliteral">&quot;exampleSuccessRate-aggFails&quot;</span> refValue=<span class="stringliteral">&quot;0.1&quot;</span>  LET=<span class="stringliteral">&quot;-1.0&quot;</span> LWT=<span class="stringliteral">&quot;-0.9&quot;</span>  UWT=<span class="stringliteral">&quot;0.9&quot;</span>   UET=<span class="stringliteral">&quot;1.0&quot;</span>/&gt;</div>
<div class="line">                   &lt;/limits&gt;</div>
<div class="line">               &lt;/test&gt;</div>
<div class="line">                &lt;!-- end: following section is used <span class="keywordflow">for</span> docu generation - description of limits <span class="keywordflow">for</span> metrics directly in test --&gt;</div>
</div><!-- fragment --> <br/>
 </dd></dl>
<dl class="section user"><dt>How limits based decision is made</dt><dd><ol type="1">
<li>Metrics for one test are compared with limits =&gt; decision per metric <br/>
</li>
<li>Decision per test = worst decision for metrics belonging to this test <br/>
</li>
<li>Decision per test group = worst decision for tests belonging to this test <br/>
</li>
<li>Decision per session = worst decision for tests groups belonging to this test <br/>
 <br/>
 <b>NOTE:</b> Step #3 by default is executed by <a class="el" href="classcom_1_1griddynamics_1_1jagger_1_1engine_1_1e1_1_1BasicTGDecisionMakerListener.html">BasicTGDecisionMakerListener</a> class. You can override it with your own <a class="el" href="interfacecom_1_1griddynamics_1_1jagger_1_1engine_1_1e1_1_1collector_1_1testgroup_1_1TestGroupDecisionMakerListener.html">TestGroupDecisionMakerListener</a> <br/>
 How to implement custom listeners you can read here: <a class="el" href="group__Main__HowToCustomizeListeners__group.html">Custom listeners</a> <br/>
</li>
</ol>
</dd></dl>
<p><br/>
 Back to <a class="el" href="DecisionMakerBasedOnLimits.html#section_dm_overview">Overview</a> <br/>
 <br/>
</p>
<h1><a class="anchor" id="section_dm_display"></a>
View results in WebUI and PDF report</h1>
<p><br/>
 Summary value for metrics compared to limits will be highlighted in PDF report and WebUi according to result of comparison <br/>
 </p>
<ul>
<li>OK - <b> <font color="#008000">green</font></b> </li>
<li>WARNING - <b> <font color="#B8860B">yellow</font></b> </li>
<li>FATAL or ERROR - <b> <font color="#FF0000">red</font></b> </li>
</ul>
<p><b>NOTE:</b> Currently highlighting is supported only for: </p>
<ul>
<li>monitoring metrics </li>
<li>custom metrics</li>
</ul>
<p><em> Standard metrics </em> and <em> validators </em> will be compared to limits and influence decision, but not highlighted <br/>
 <br/>
 To switch off highlighting - set following property to false: <br/>
 Web client: <br/>
  <div class="fragment"><div class="line">webui.enable.decisions.per.metric.highlighting=<span class="keyword">true</span></div>
</div><!-- fragment --></p>
<p>PDF report: <br/>
  <div class="fragment"><div class="line">report.enable.decisions.per.metric.highlighting=<span class="keyword">true</span></div>
</div><!-- fragment --> <br/>
 Back to <a class="el" href="DecisionMakerBasedOnLimits.html#section_dm_overview">Overview</a> <br/>
 <br/>
 </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 2 2014 18:37:52 for Jagger by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
